---
title: ViewPager
description: ViewPager — это Диспетчер макетов, позволяющий реализовать навигацию жестурал. Жестуралная навигация позволяет пользователю прокручивать влево и вправо для пошагового просмотра страниц данных. В этом руководство объясняется, как реализовать навигацию жестурал с помощью ViewPager с фрагментами и без них. В нем также описывается добавление индикаторов страниц с помощью Пажертитлестрип и Пажертабстрип.
ms.prod: xamarin
ms.assetid: D42896C0-DE7C-4818-B171-CB2D5E5DD46A
ms.technology: xamarin-android
author: davidortinau
ms.author: daortin
ms.date: 03/01/2018
ms.openlocfilehash: c7718ef7a02365e9ca09f7491804cbadfa0c9a41
ms.sourcegitcommit: 52fb214c0e0243587d4e9ad9306b75e92a8cc8b7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/01/2020
ms.locfileid: "76940855"
---
# <a name="viewpager"></a>ViewPager

_ViewPager — это Диспетчер макетов, позволяющий реализовать навигацию жестурал. Жестуралная навигация позволяет пользователю прокручивать влево и вправо для пошагового просмотра страниц данных. В этом руководство объясняется, как реализовать навигацию жестурал с помощью ViewPager с фрагментами и без них. В нем также описывается добавление индикаторов страниц с помощью Пажертитлестрип и Пажертабстрип._

## <a name="overview"></a>Обзор

Распространенным сценарием при разработке приложений является необходимость предоставить пользователям жестурал навигацию между родственными представлениями. При таком подходе пользователь проводит влево или вправо для доступа к страницам содержимого (например, в мастере установки или показе слайдов). Эти представления можно создать с помощью мини-приложения `ViewPager`, доступного в [библиотеке поддержки Android версии 4](https://www.nuget.org/packages/Xamarin.Android.Support.v4/). `ViewPager` — это мини-приложение макета, состоящие из нескольких дочерних представлений, в которых каждое дочернее представление образует страницу в макете: 

[![снимков экрана приложения Трипажер с примером горизонтального прокрутки](images/01-intro-sml.png)](images/01-intro.png#lightbox)

Обычно `ViewPager` используется вместе с [фрагментами](~/android/platform/fragments/index.md), однако в некоторых ситуациях может потребоваться использовать `ViewPager` без дополнительной сложности `Fragment`.

`ViewPager` использует шаблон адаптера, чтобы предоставить его отображаемым представлениям. Используемый здесь адаптер концептуально похож на тот, который используется в [RecyclerView](~/android/user-interface/layouts/recycler-view/index.md) &ndash; вы предоставляете реализацию `PagerAdapter`, чтобы создать страницы, отображаемые `ViewPager` пользователю. Страницы, отображаемые `ViewPager`, могут быть `View`s или `Fragment`s. При отображении `View`s Этот адаптер подклассов `PagerAdapter` базовом классе для Android. При отображении `Fragment`s подкласс адаптера для `FragmentPagerAdapter`Android. Кроме того, в библиотеку поддержки Android входит `FragmentPagerAdapter` (подкласс `PagerAdapter`) для получения сведений о подключении `Fragment`s к данным. 

В этом руководстве демонстрируются оба подхода: 

- В [Viewpager с представлениями](~/android/user-interface/controls/view-pager/viewpager-and-views.md)приложение [трипажер](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-treepager) разрабатывается, чтобы продемонстрировать, как использовать `ViewPager` для отображения представлений каталога дерева (коллекции изображений листопадное и популярная-деревьев). 
    `PagerTabStrip` и `PagerTitleStrip` используются для вывода заголовков, помогающих при навигации по страницам.

- В [Viewpager с фрагментами](~/android/user-interface/controls/view-pager/viewpager-and-fragments.md)разрабатывается немного более сложное [флашкардпажер](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-flashcardpager) приложение, которое демонстрирует использование `ViewPager` с `Fragment`s для создания приложения, которое представляет математические проблемы в виде флэш-карт и реагирует на вводимые пользователем данные. 

## <a name="requirements"></a>Требования

Чтобы использовать `ViewPager` в проекте приложения, необходимо установить пакет [библиотеки поддержки Android версии 4](https://www.nuget.org/packages/Xamarin.Android.Support.v4/) . Дополнительные сведения об установке пакетов NuGet см. [в разделе Пошаговое руководство. Включение NuGet в проект](https://docs.microsoft.com/visualstudio/mac/nuget-walkthrough). 

## <a name="architecture"></a>Архитектура

Для реализации навигации жестурал с помощью `ViewPager`используются три компонента:

- ViewPager
- Адаптер
- Индикатор страничного навигатора

Ниже приведено описание каждого из этих компонентов.

### <a name="viewpager"></a>ViewPager

`ViewPager` — это Диспетчер макетов, отображающий по одной коллекции `View`s. Его задание заключается в обнаружении жеста прокрутки пользователя и переходе к следующему или предыдущему представлению. Например, на следующем снимке экрана показан `ViewPager` перехода от одного изображения к другому в ответ на жест пользователя: 

[![крупный план приложения Трипажер, отображающего переход между представлениями](images/02-transition-sml.png)](images/02-transition.png#lightbox)

### <a name="adapter"></a>Адаптер

`ViewPager` извлекает свои данные из *адаптера*. Задание адаптера заключается в создании `View`s, отображаемых `ViewPager`, предоставляя их по мере необходимости. На приведенной ниже схеме показана эта концепция &ndash; адаптер создает и заполняет `View`s и предоставляет их `ViewPager`. По мере того, как `ViewPager` обнаруживает жесты прокрутки пользователя, он предлагает адаптеру предоставить соответствующие `View` для показа: 

[Схема ![, иллюстрирующая подключение адаптера к изображениям и именам к ViewPager](images/03-adapter-sml.png)](images/03-adapter.png#lightbox)

В этом конкретном примере каждый `View` создается из образа дерева и имени дерева перед передачей в `ViewPager`. 

### <a name="pager-indicator"></a>Индикатор страничного навигатора

`ViewPager` может использоваться для вывода большого набора данных (например, коллекция изображений может содержать сотни изображений). Чтобы помочь пользователю перемещаться по большим наборам данных, `ViewPager` часто сопровождается *индикатором страничного навигатора* , отображающим строку. Строка может быть названием изображения, заголовком или просто позицией текущего представления в наборе данных. 

Есть два представления, которые могут создавать эту информацию для навигации: `PagerTabStrip` и `PagerTitleStrip.` каждый отображает строку в верхней части `ViewPager`, и каждый из них извлекает данные из адаптера `ViewPager`, чтобы всегда синхронизироваться с отображаемым в данный момент `View`. Различие между ними заключается в том, что `PagerTabStrip` включает визуальный индикатор для "Current" строки, а `PagerTitleStrip` не (как показано на снимках экрана): 

[![снимков экрана приложения Трипажер с помощью Пажертитлестрип и Пажертабстрип](images/04-comparison-sml.png)](images/04-comparison.png#lightbox)

В этом руководстве показано, как иммплемент компоненты приложения для `ViewPager`, адаптеров и индикаторов и интегрировать их для поддержки навигации жестурал. 

## <a name="related-links"></a>Связанные ссылки

- [Трипажер (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-treepager)
- [Флашкардпажер (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-flashcardpager)
