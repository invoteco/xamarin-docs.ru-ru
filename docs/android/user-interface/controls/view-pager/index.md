---
title: ViewPager
description: ViewPager — это Диспетчер макетов, позволяющий реализовать навигацию жестурал. Жестуралная навигация позволяет пользователю прокручивать влево и вправо для пошагового просмотра страниц данных. В этом руководство объясняется, как реализовать навигацию жестурал с помощью ViewPager с фрагментами и без них. В нем также описывается добавление индикаторов страниц с помощью Пажертитлестрип и Пажертабстрип.
ms.prod: xamarin
ms.assetid: D42896C0-DE7C-4818-B171-CB2D5E5DD46A
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 03/01/2018
ms.openlocfilehash: 8c7aae672d284d4105c6b09dfe81b72cf4ad519b
ms.sourcegitcommit: 3ea9ee034af9790d2b0dc0893435e997bd06e587
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68645518"
---
# <a name="viewpager"></a>ViewPager

_ViewPager — это Диспетчер макетов, позволяющий реализовать навигацию жестурал. Жестуралная навигация позволяет пользователю прокручивать влево и вправо для пошагового просмотра страниц данных. В этом руководство объясняется, как реализовать навигацию жестурал с помощью ViewPager с фрагментами и без них. В нем также описывается добавление индикаторов страниц с помощью Пажертитлестрип и Пажертабстрип._

 
## <a name="overview"></a>Обзор

Распространенным сценарием при разработке приложений является необходимость предоставить пользователям жестурал навигацию между родственными представлениями. При таком подходе пользователь проводит влево или вправо для доступа к страницам содержимого (например, в мастере установки или показе слайдов). Эти представления можно создать с помощью `ViewPager` мини-приложения, доступного в [библиотеке поддержки Android версии 4](https://www.nuget.org/packages/Xamarin.Android.Support.v4/). `ViewPager` — Это мини-приложение макета, состоящие из нескольких дочерних представлений, в которых каждое дочернее представление образует страницу в макете: 

[![Снимки экрана приложения Трипажер с примером горизонтального прокрутки](images/01-intro-sml.png)](images/01-intro.png#lightbox)

Обычно `ViewPager` используется вместе с [фрагментами](~/android/platform/fragments/index.md), однако в некоторых ситуациях может потребоваться использовать `ViewPager` без дополнительной сложности `Fragment`.

`ViewPager`использует шаблон адаптера, чтобы предоставить его отображаемым представлениям. Используемый здесь адаптер концептуально похож на тот, который используется в [RecyclerView](~/android/user-interface/layouts/recycler-view/index.md) &ndash; . вы `PagerAdapter` предоставляете реализацию для создания страниц, `ViewPager` отображаемых пользователю. В качестве отображаемых `ViewPager` страниц могут `View`использоваться s `Fragment`или s. При `View`отображении s Этот адаптер подклассы `PagerAdapter` базового класса Android. Если `Fragment`отображаются, то адаптер подклассов `FragmentPagerAdapter`Android. Кроме того, в библиотеку поддержки `FragmentPagerAdapter` Android входит ( `PagerAdapter`подкласс) для получения сведений о подключении `Fragment`s к данным. 

В этом руководстве демонстрируются оба подхода: 

-   В [Viewpager с представлениями](~/android/user-interface/controls/view-pager/viewpager-and-views.md)приложение [трипажер](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-treepager) разрабатывается, чтобы продемонстрировать, как `ViewPager` использовать для отображения представлений каталога дерева (коллекции изображений листопадное и популярная-деревьев). 
    `PagerTabStrip`и `PagerTitleStrip` используются для вывода заголовков, помогающих при навигации по страницам.

-   В [Viewpager с фрагментами](~/android/user-interface/controls/view-pager/viewpager-and-fragments.md)разрабатывается немного более сложное [флашкардпажер](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-treepager) приложение, которое показывает, `ViewPager` как `Fragment`использовать с s для создания приложения, которое представляет математические проблемы в виде флэш-карт и реагирует на вводимые пользователем данные. 


## <a name="requirements"></a>Требования

Чтобы использовать `ViewPager` в проекте приложения, необходимо установить пакет [библиотеки поддержки Android версии 4](https://www.nuget.org/packages/Xamarin.Android.Support.v4/) . Дополнительные сведения об установке пакетов NuGet см. в [разделе Пошаговое руководство. Включение NuGet в проект](https://docs.microsoft.com/visualstudio/mac/nuget-walkthrough). 

 
## <a name="architecture"></a>Архитектура

Для реализации навигации `ViewPager`жестурал используются три компонента:

-   ViewPager
-   Адаптер
-   Индикатор страничного навигатора

Ниже приведено описание каждого из этих компонентов.



### <a name="viewpager"></a>ViewPager

`ViewPager`— Это Диспетчер макетов, который отображает по `View`одному набору s за раз. Его задание заключается в обнаружении жеста прокрутки пользователя и переходе к следующему или предыдущему представлению. Например, на следующем снимке экрана показано `ViewPager` , как выполнить переход от одного изображения к другому в ответ на жест пользователя: 

[![Крупный план приложения Трипажер, отображающего переход между представлениями](images/02-transition-sml.png)](images/02-transition.png#lightbox)


### <a name="adapter"></a>Адаптер

`ViewPager`извлекает свои данные из *адаптера*. Задание адаптера состоит в том, чтобы создать `View`s, отображаемый `ViewPager`в, предоставляя их по мере необходимости. На приведенной ниже схеме показана эта концепция &ndash; , которую адаптер создает и `View`заполняет `ViewPager`и предоставляет. Как только `View` обнаруживает жесты прокрутки пользователя, он запрашивает адаптер для предоставления соответствующего интерфейса: `ViewPager` 

[![На схеме показано, как адаптер соединяется с изображениями и именами в ViewPager](images/03-adapter-sml.png)](images/03-adapter.png#lightbox)

В этом конкретном примере каждый `View` из них строится на основе изображения дерева и имени дерева перед его передачей в. `ViewPager` 



### <a name="pager-indicator"></a>Индикатор страничного навигатора

`ViewPager`может использоваться для вывода большого набора данных (например, коллекция изображений может содержать сотни изображений). Чтобы помочь пользователю перемещаться по большим наборам `ViewPager` данных, часто сопровождается *индикатором страничного навигатора* , отображающим строку. Строка может быть названием изображения, заголовком или просто позицией текущего представления в наборе данных. 

Существует два представления, которые могут создавать эту информацию по переходу: `PagerTabStrip` `PagerTitleStrip.` каждый из них отображает строку `ViewPager`в верхней части, `ViewPager`и каждый из них получает данные из адаптера, чтобы всегда оставаться синхронизированным с отображается `View`в данный момент. Различие между ними состоит в том `PagerTabStrip` , что включает визуальный индикатор для "Current" строки `PagerTitleStrip` , а не (как показано на снимках экрана): 

[![Снимки экрана приложения Трипажер с Пажертитлестрип и Пажертабстрип](images/04-comparison-sml.png)](images/04-comparison.png#lightbox)

В этом руководстве показано, как `ViewPager`иммплемент, адаптеры и компоненты приложения с индикаторами и интегрировать их для поддержки навигации жестурал. 



## <a name="related-links"></a>Связанные ссылки

- [Трипажер (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-treepager)
- [Флашкардпажер (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/userinterface-flashcardpager)
