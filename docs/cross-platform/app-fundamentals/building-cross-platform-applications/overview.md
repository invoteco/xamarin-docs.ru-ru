---
title: Общие сведения о построении межплатформенных приложений
description: В этом документе представлен общий обзор создания кросс-платформенных приложений. В нем обсуждаются значения C#, конструктивные шаблоны, такие как MVC/MVVM, и собственные пользовательские интерфейсы.
ms.prod: xamarin
ms.assetid: E442EEFB-FA9C-40E9-9668-5A3F915C8400
author: davidortinau
ms.author: daortin
ms.date: 03/23/2017
ms.openlocfilehash: 7d839e0141f14f4ba86897b128bf2a8c0a79548d
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73016915"
---
# <a name="building-cross-platform-applications-overview"></a>Общие сведения о построении межплатформенных приложений

В этом руководство рассказывается о платформе Xamarin и о том, как спроектировать кросс-платформенное приложение для повышения эффективности повторного использования кода и предоставления высококачественного собственного интерфейса на всех основных мобильных платформах: iOS, Android и Windows Phone.

Подход, используемый в этом документе, обычно применим как к приложениям для повышения производительности, так и к игровым приложениям, однако основное внимание уделяется производительности и служебной программе (неигровые приложения). Ознакомьтесь со статьей [Введение в](~/graphics-games/monogame/introduction/index.md) [инструменты Visual Studio для Unity](https://docs.microsoft.com/visualstudio/cross-platform/visual-studio-tools-for-unity) для игр и ознакомьтесь с руководством по разработке для кросс-платформенной игры.

Фраза «однократная запись, запуск везде» часто используется для того, чтобы превознесите в одной базе кода, которая выполняется на нескольких платформах без изменений. Несмотря на преимущество повторного использования кода, этот подход часто приводит к приложениям с наиболее частым набором функций-знаменателей и универсальным пользовательским интерфейсом, который не умещается на любой из целевых платформ.

Xamarin — это не просто платформа "однократной записи, запуска везде", поскольку одна из ее сильных сторон — возможность реализовать собственные пользовательские интерфейсы специально для каждой платформы. Однако благодаря продуманному проектированию все равно можно предоставить общий доступ к большинству кода, не относящегося к пользовательскому интерфейсу, и получить лучшее из обоих вариантов: создать код хранилища данных и бизнес-логики один раз и предоставить собственный пользовательский интерфейс на каждой платформе. В этом документе рассматривается общий архитектурный подход к достижению этой цели.

Ниже приведена сводка основных моментов по созданию кросс-платформенных приложений Xamarin.

- **Используйте C#**  — напишите свои приложения в C#. Существующий код, написанный в C# , может быть перенесен в iOS и Android с помощью Xamarin очень легко и, очевидно, использоваться в приложениях Windows.
- **Используйте шаблоны проектирования MVC или MVVM** . Разрабатывайте пользовательский интерфейс приложения с помощью шаблона модели, представления или контроллера. Создание архитектуры приложения с помощью подхода "модель/представление/контроллер" или "модель/представление/ViewModel", где имеется четкое разделение между "моделью" и остальными элементами. Определите, какие части приложения будут использовать собственные элементы пользовательского интерфейса для каждой платформы (iOS, Android, Windows, Mac), и используйте это в качестве рекомендации для разделения приложения на два компонента: "Core" и "User-Interface".
- **Создание собственных пользовательских интерфейсов** . Каждое приложение для конкретной ОС предоставляет другой уровень пользовательского интерфейса (реализованный C# в с помощью собственных средств проектирования пользовательского интерфейса):

1. В iOS используйте API UIKit для создания собственных приложений, при необходимости используя конструктор iOS в Xamarin для визуального создания пользовательского интерфейса.
1. В Android используйте Android. views для создания собственных приложений, используя преимущества конструктора пользовательского интерфейса Xamarin.
1. В Windows вы будете использовать XAML для уровня представления, созданный в Visual Studio или в конструкторе пользовательского интерфейса Blend.
1. На компьютерах Mac вы будете использовать раскадровки для слоя представления, созданного в Xcode.

Проекты Xamarin. Forms поддерживаются на всех платформах и позволяют создавать пользовательские интерфейсы, которые можно совместно использовать на разных платформах с помощью Xamarin. Forms XAML. 

Объем повторного использования кода будет зависеть в большой степени от объема кода, который хранится в общем ядре, и объема кода, характерного для пользовательского интерфейса. Основной код — это все, что не взаимодействует с пользователем напрямую, но вместо этого предоставляет службы для частей приложения, которые будут собираются и отображают эти сведения.

Чтобы увеличить объем повторного использования кода, можно внедрить межплатформенные компоненты, предоставляющие общие службы для всех таких систем, как:

1. [SQLite-NET](https://www.nuget.org/packages/sqlite-net-pcl/) для ЛОКАЛЬНОГО хранилища SQL,
1. [Подключаемые модули Xamarin](https://xamarin.com/plugins) для доступа к возможностям для конкретных устройств, включая камеру, контакты и географическое расположение,
1. [Пакеты NuGet](https://nuget.org) , совместимые с проектами Xamarin, например [JSON.NET](https://www.nuget.org/packages/Newtonsoft.Json/),
1. Использование функций .NET Framework для работы с сетью, веб-службами, ВВОДом и др.

Некоторые из этих компонентов реализуются в примере использования *задач* .

 <a name="Separate_Reusable_Code_into_a_Core_Library" />

## <a name="separate-reusable-code-into-a-core-library"></a>Разделение повторно используемого кода в основную библиотеку

Следуя принципу разделения ответственности путем распределения архитектуры приложения и последующего перемещения основных функциональных возможностей, которые не зависят от платформы, в базовую библиотеку с возможностью повторного использования, можно максимально увеличить совместное использование кода на разных платформах, как показано ниже. иллюстрируют

 ![](overview-images/layers2.png "By following the principle of separation of responsibility by layering your application architecture and then moving core functionality that is platform agnostic into a reusable core library, you can maximize code sharing across platforms")

 <a name="Case_Studies" />

## <a name="case-studies"></a>Примеры использования

Существует один пример внедрения, сопровождающий этот документ — *Pro*. В каждом практическом примере рассматривается реализация концепций, описанных в настоящем документе, в реальном мире. Код является открытым кодом и доступен на [GitHub](https://github.com/xamarin/mobile-samples/).
