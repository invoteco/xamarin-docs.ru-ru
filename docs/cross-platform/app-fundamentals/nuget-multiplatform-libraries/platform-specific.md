---
title: Создание новых проектов библиотеки платформы для NuGet
description: В этом документе описывается создание одного пакета NuGet, который содержит специфические для платформы код для нескольких платформ.
ms.prod: xamarin
ms.assetid: D8BC4906-805F-4AFB-8D1A-88B7BF87E17F
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 00a02973d6016ad63e4317279515acc2b4e2e81b
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61267246"
---
# <a name="creating-new-platform-specific-library-projects-for-nuget"></a>Создание новых проектов библиотеки платформы для NuGet

Обеспечивает реализацию многоплатформенных проектов библиотек, предназначенных для конкретных платформ, таких как iOS и Android, лучше всего работают с общих проектов.

NuGet может содержать как кода конкретного iOS и Android, а также код .NET, общие для обоих.

Создается несколько сборок, которые встроенные в один пакет NuGet. Стандарты NuGet убедитесь, что пакет могут добавляться к все поддерживаемые типы проектов, таких как проекты Xamarin.iOS и Android.

## <a name="steps-to-create-a-cross-platform-library-nuget"></a>Шаги для создания кросс платформенной библиотекой NuGet

1. Выберите **файл > новое решение** (или щелкните правой кнопкой мыши существующее решение и выберите **Добавить > Новый проект**).

2. Выберите **многоплатформенные библиотеки** из **Многоплатформенность > Библиотека** раздел:

  [![](platform-specific-images/mulitplatform-library-sml.png "Настройка библиотеки единой базой кода несколькими платформами")](platform-specific-images/multiplatform-library.png#lightbox)

3. Введите **имя** и **описание**и выберите **платформы**:

  [![](platform-specific-images/specific-configure-sml.png "Настройка библиотеки платформы для iOS и Android")](platform-specific-images/specific-configure.png#lightbox)

4. Завершите работу мастера. К решению добавляются следующие проекты:

  - **Проект Android** — кода Android может быть дополнительно к этому проекту.
  - **Проект iOS** – кода iOS при необходимости могут добавляться в этот проект.
  - **Проект NuGet** — код не добавляется в этот проект. Он ссылается на другие проекты и содержит метаданные конфигурации для выходных данных пакета NuGet.
  - **Общий проект** — общий код следует добавить к этому проекту, включая код конкретной платформы в `#if` директивы компилятора.

5. Проект NuGet правой кнопкой мыши и выберите **параметры**, а затем выберите **пакет NuGet > метаданных** раздела и введите [необходимые метаданные](~/cross-platform/app-fundamentals/nuget-multiplatform-libraries/metadata.md) (как, также как и любые необязательные метаданные):

  [![](platform-specific-images/specific-metadata-sml.png "Введите необходимые метаданные")](platform-specific-images/specific-metadata.png#lightbox)

6. Кроме того, в **параметры проекта** открытое окно **ссылочные сборки** раздела и выбрать, какие профили переносимой библиотеки Классов, общей библиотеки будет поддерживать через «с подменой»:

  ![](platform-specific-images/specific-reference-assemblies.png "Также в окне параметров проекта, откройте раздел ссылочные сборки и выбрать профили переносимой библиотеки Классов, которые общей библиотеки будет поддерживать через заманить и подменить")

  > [!NOTE]
> «С подменой» означает, что сборки переносимой библиотеки Классов будет содержать только API, предоставляемый библиотекой (он не может содержать код платформы). При добавлении пакета NuGet в проект Xamarin, общие библиотеки будет скомпилирована библиотека переносимых Классов, но сборки для конкретных платформ содержат код, который фактически используется проект Android или iOS.

7. Правой кнопкой мыши проект и выберите **создать пакет NuGet** (или сборки или развертывания решения) и **.nupkg** будет сохранен файл пакета NuGet в **/bin/** папке ( Отладки или выпуска, в зависимости от конфигурации).

  ![](platform-specific-images/create-nuget-package.png "Файл пакета NuGet сохраняется в папке bin отладки или выпуска, в зависимости от конфигурации")


## <a name="verifying-the-output"></a>Проверка выходных данных

Пакеты NuGet также являются ZIP-файлы, поэтому имеется возможность проверить внутреннюю структуру создаваемый пакет.

Выбранные в этом снимке экрана показано содержимое NuGet специфические для платформы, который поддерживает iOS и Android и было два ссылочных сборок:

![](platform-specific-images/nuget-output.png "Файлы, содержащиеся в пакете NuGet")


## <a name="related-links"></a>Связанные ссылки

- [Руководство по метаданным](~/cross-platform/app-fundamentals/nuget-multiplatform-libraries/metadata.md)
