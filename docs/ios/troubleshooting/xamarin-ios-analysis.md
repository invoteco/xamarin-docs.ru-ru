---
title: Правила анализа Xamarin. iOS
description: В этом документе описывается набор правил анализа, которые проверяют параметры проекта Xamarin. iOS, чтобы определить, доступны ли более оптимальные параметры.
ms.topic: troubleshooting
ms.prod: xamarin
ms.assetid: C29B69F5-08E4-4DCC-831E-7FD692AB0886
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/06/2018
ms.openlocfilehash: 5f968e01cc0b866f94f524728b4bba1e759e8bf8
ms.sourcegitcommit: 9f37dc00c2adab958025ad1cdba9c37f0acbccd0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/14/2019
ms.locfileid: "69012383"
---
# <a name="xamarinios-analysis-rules"></a>Правила анализа Xamarin. iOS

"Анализ Xamarin. iOS" — это набор правил, которые проверяют параметры проекта, чтобы определить, доступны ли оптимальные или более оптимизированные параметры.

Выполняйте правила анализа как можно чаще, чтобы найти возможные улучшения на ранних этапах и сэкономить время разработки.

Чтобы запустить правила, в меню Visual Studio для Mac выберите **проект > запустить анализ кода**.

> [!NOTE]
> Только анализ Xamarin. iOS выполняется в текущей выбранной конфигурации. Мы настоятельно рекомендуем запустить средство для конфигураций отладки **и** выпуска.

<a name="XIA0001" />

## <a name="xia0001-disabledlinkerrule"></a>XIA0001: дисабледлинкерруле

- **Проблема:** Компоновщик отключен на устройстве для режима отладки.
- **Исправно** Следует попытаться запустить код со компоновщиком, чтобы избежать непредвиденных сюрпризов.
Чтобы настроить его, перейдите в проект > iOS сборка > Поведение компоновщика.

<a name="XIA0002" />

## <a name="xia0002-testcloudagentreleaserule"></a>XIA0002: тестклаудажентрелеасеруле

- **Проблема:** Сборки приложений, инициализирующие агент Test Cloud, будут отклонены Apple при отправке, так как они используют частный API.
- **Исправно** Добавление или исправление необходимых #if и определение в коде.

<a name="XIA0003" />

## <a name="xia0003-ipadebugbuildsrule"></a>XIA0003: ипадебугбуилдсруле

- **Проблема:** Конфигурация отладки, использующая ключи подписывания разработчика, не должна создавать IPA, так как она нужна только для распространения, что теперь использует мастер публикации.
- **Исправно** Отключите сборку IPA в параметрах проекта для конфигурации отладки.

<a name="XIA0004" />

## <a name="xia0004-missing64bitsupportrule"></a>XIA0004: Missing64BitSupportRule

- **Проблема:** Поддерживаемая архитектура для выпуска | устройство "не совместимо с 64 разрядов, отсутствует ARM64. Это проблема, так как Apple не принимает в AppStore только приложения iOS 32.
- **Исправно** Дважды щелкните проект iOS, перейдите в раздел Build > iOS Build и измените Поддерживаемые архитектуры, чтобы она ARM64.

<a name="XIA0005" />

## <a name="xia0005-float32rule"></a>XIA0005: Float32Rule

- **Проблема:** Не используйте параметр float32 (--AOT-Options =-O = float32), что приводит к недорого затратам на производительность, особенно на мобильных устройствах, где математические вычисления двойной точности значительно улучшается медленнее. Обратите внимание, что в .NET для внутреннего использования используется двойная точность, даже для float, поэтому включение этого параметра влияет на точность и, возможно, на совместимость.
- **Исправно** Дважды щелкните проект iOS, перейдите в раздел Build > iOS Build и снимите флажок "выполнять все 32-разрядные операции с плавающей запятой как 64-bit float".

<a name="XIA0006" />

## <a name="xia0006-httpclientavoidmanaged"></a>XIA0006: хттпклиентавоидманажед

- **Проблема:** Мы рекомендуем использовать собственный обработчик HttpClient вместо управляемого, чтобы повысить производительность, уменьшить размер исполняемого файла и легко поддерживать новые стандарты.
- **Исправно** Дважды щелкните проект iOS, перейдите в раздел Build > iOS Build и измените реализацию HttpClient на NSUrlSession (iOS 7 +) или CFNetwork для поддержки версии, предшествующей iOS 7.

<a name="XIA0007" />

## <a name="xia0007-usellvmrule"></a>XIA0007: уселлвмруле

- **Проблема:** Для выпуска | конфигурация iPhone рекомендуется включить компилятор LLVM, который создает код, который быстрее выполняется за счет времени сборки.
- **Исправно** Дважды щелкните проект iOS, перейдите к разделу сборка > iOS Build и для выпуска | iPhone, проверьте параметр компилятора LLVM оптимизировать.
