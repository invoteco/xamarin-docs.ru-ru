---
title: Веб-представления в Xamarin. iOS
description: В этом документе описаны различные способы, с помощью которых приложение Xamarin. iOS может отображать веб-содержимое. В нем обсуждаются Вквебвиев, Сфсафаривиевконтроллер, Safari и безопасность транспорта приложений.
ms.prod: xamarin
ms.assetid: 84886CF4-2B2B-4540-AD92-7F0B791952D1
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.date: 03/22/2017
ms.openlocfilehash: 8640800717a88e800503e93c339eeb080707374e
ms.sourcegitcommit: eca3b01098dba004d367292c8b0d74b58c4e1206
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79306173"
---
# <a name="web-views-in-xamarinios"></a>Веб-представления в Xamarin. iOS

В течение времени существования iOS Apple было выпущено несколько способов реализации функциональных возможностей веб-представлений в приложениях для разработчиков приложений. Большинство пользователей использует встроенный веб-браузер Safari на устройстве iOS и, следовательно, предполагаю, что функциональность веб-представлений других приложений согласуется с этим интерфейсом. Они предполагают работу одних и тех же жестов, а также производительность по номиналу и функциональность.

в iOS 11 появились новые изменения как в `WKWebView`, так и в `SFSafariViewController`. Дополнительные сведения см. в статье об [изменениях в Интернете в программе](~/ios/platform/introduction-to-ios11/web.md) "Пошаговое руководством по iOS 11".

## <a name="wkwebview"></a>вквебвиев

`WKWebView` появился в iOS 8, позволяя разработчикам приложений реализовать интерфейс веб-браузера, аналогичный мобильному Safari. Это связано с тем, что `WKWebView` использует подсистему JavaScript нитро, ту же подсистему, которая используется мобильным обозревателем Safari. `WKWebView` всегда следует использовать по Уивебвиев, если это возможно благодаря повышению производительности, встроенным жестам, удобным для пользователя, и простоте взаимодействия между веб-страницей и приложением.

`WKWebView` можно добавить в приложение практически аналогичным образом, так как разработчик имеет гораздо больший контроль над пользовательским интерфейсом, UX и функциональностью. При создании и отображении объекта веб-представления отображается запрошенная страница, однако вы можете управлять представлением представления, тем, как пользователь может перемещаться и как пользователь выходит из представления.  

Приведенный ниже код можно использовать для запуска `WKWebView` в приложении Xamarin. iOS:

```csharp
WKWebView webView = new WKWebView(View.Frame, new WKWebViewConfiguration());
View.AddSubview(webView);

var url = new NSUrl("https://docs.microsoft.com");
var request = new NSUrlRequest(url);
webView.LoadRequest(request);
```

Важно отметить, что `WKWebView` находится в пространстве имен `WebKit`, поэтому вам придется добавить эту директиву using в начало класса.

`WKWebView` также можно использовать в приложениях Xamarin. Mac, и его следует использовать при создании кросс-платформенного приложения Mac/iOS.

В инструкции по [обработке оповещений JavaScript](https://github.com/xamarin/recipes/tree/master/Recipes/ios/content_controls/web_view/handle_javascript_alerts) также содержатся сведения об использовании Вквебвиев с JavaScript.

## <a name="sfsafariviewcontroller"></a>сфсафаривиевконтроллер

 `SFSafariViewController` — это последний способ предоставления веб-содержимого из приложения и доступен в iOS 9 и более поздних версиях. В отличие от `UIWebView` или `WKWebView`, `SFSafariViewController` является контроллером представления и поэтому не может использоваться с другими представлениями. Вы должны представлять `SFSafariViewController` как новый контроллер представления, точно так же, как и любой контроллер представления.

 `SFSafariViewController` по сути является мини-обозревателем Safari, который можно внедрить в приложение. Как и Вквебвиев, он использует тот же механизм JavaScript нитро, но также предоставляет ряд дополнительных функций Safari, таких как автозаполнение, читатель и возможность совместного использования файлов cookie и данных с помощью мобильного обозревателя Safari. Взаимодействие между пользователем и `SFSafariViewController` недоступно для вашего приложения. Приложение не будет иметь доступ к каким бы то ни было функциям Safari по умолчанию.

Кроме того, по умолчанию реализуется кнопка **done (Готово** ), позволяющая пользователю легко вернуться в приложение, а также кнопки перехода и обратно, позволяющие пользователю перемещаться по стеку веб-страниц. Кроме того, он также предоставляет пользователю, которому необходимо предоставить уверенность в том, что они находятся на ожидаемой веб-странице. Адресная строка не разрешает пользователю изменять URL-адрес.

Эти реализации не могут быть изменены, поэтому `SFSafariViewController` идеально подходит для использования в качестве браузера по умолчанию, если приложение хочет предоставить веб-страницу без настройки.

Приведенный ниже код можно использовать для запуска `SFSafariViewController` в приложении Xamarin. iOS:

```csharp
var sfViewController = new SFSafariViewController(url);

PresentViewController(sfViewController, true, null);
```

В результате будет создано следующее веб-представление:

[![пример веб-представления с Сфсафаривиевконтроллер](webview-images/sfsafariviewcontroller.png)](webview-images/sfsafariviewcontroller.png#lightbox)

## <a name="safari"></a>Safari

Вы также можете открыть мобильное приложение Safari в приложении, используя приведенный ниже код.

```csharp
var url = new NSUrl("https://docs.microsoft.com");

UIApplication.SharedApplication.OpenUrl(url);
```

В результате будет создано следующее веб-представление:

[![веб-страницы, представленной в Safari](webview-images/safari.png)](webview-images/safari.png#lightbox)

В большинстве случаев следует избегать переходов пользователей из приложения в Safari. Большинство пользователей не будут получать переходы за пределы приложения, поэтому при переходе от приложения пользователи могут никогда не возвращать его, по сути, выбросить задействование.

улучшения iOS 9 позволяют пользователю легко вернуться в приложение с помощью кнопки назад, представленной в левом верхнем углу страницы Safari.

## <a name="app-transport-security"></a>Защита транспорта приложения

Защита транспорта приложений или *ATS* была введена компанией Apple в iOS 9 для обеспечения соответствия всем Интернет – рекомендациям по обеспечению безопасного подключения.

Дополнительные сведения о ATS, в том числе о том, как ее реализовать в приложении, см. в руководстве по [безопасности транспорта приложений](~/ios/app-fundamentals/ats.md) .

## <a name="uiwebview-deprecated"></a>Уивебвиев (не рекомендуется)

> [!IMPORTANT]
> `UIWebView` не рекомендуется к использованию. Приложения, использующие этот элемент управления, [не будут приниматься в магазине приложений по состоянию на апрель 2020, а существующие приложения должны удалить его с декабря 2020](https://developer.apple.com/news/?id=12232019b).
>
> [Документация по `UIWebView` Apple](https://developer.apple.com/documentation/uikit/uiwebview) предлагает приложениям использовать вместо них [`WKWebView`](#wkwebview) .

> [!IMPORTANT]
> Если при использовании Xamarin.Forms вы ищете ресурсы касательно предупреждения об устаревании `UIWebView`UIWebView (ITMS-90809), ознакомьтесь с документацией по [Xamarin.Forms WebView](~/xamarin-forms/user-interface/webview.md#uiwebview-deprecation-and-app-store-rejection-itms-90809).

`UIWebView` является устаревшим способом Apple для предоставления веб-содержимого в приложении. Она была выпущена в iOS 2,0 и является устаревшей по отношению к 8,0.

Чтобы добавить Уивебвиев в приложение Xamarin. iOS, используйте следующий код:

```csharp
webView = new UIWebView (View.Bounds);
View.AddSubview(webView);

var url = "https://docs.microsoft.com"; // NOTE: https secure request
webView.LoadRequest(new NSUrlRequest(new NSUrl(url)));
```

В результате будет создано следующее веб-представление:

[![действия Скалеспажестофит](webview-images/webview.png)](webview-images/webview.png#lightbox)

## <a name="related-links"></a>Связанные ссылки

- [Представления (пример)](https://docs.microsoft.com/samples/xamarin/ios-samples/webview)
