---
title: Поддержка расширения Xamarin.Mac
description: В этом документе описывается поддержка Xamarin. Mac расширений Finder, Share и Today. В нем рассматриваются ограничения и известные проблемы, ссылки на пошаговое руководство и пример приложения, а также приводятся советы по работе с расширениями.
ms.prod: xamarin
ms.assetid: 4148F1BE-DFA0-46B6-9FCD-425A6541F510
ms.technology: xamarin-mac
author: davidortinau
ms.author: daortin
ms.date: 03/14/2017
ms.openlocfilehash: 9a9dbb63b78b00a9bcac9d7833530da02890afc6
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73017296"
---
# <a name="xamarinmac-extension-support"></a>Поддержка расширения Xamarin.Mac

В Xamarin. Mac 2,10 добавлена поддержка нескольких точек расширения macOS:

- Finder
- Общий доступ
- Сегодня

<a name="Limitations-and-Known-Issues" />

## <a name="limitations-and-known-issues"></a>Ограничения и известные проблемы

Ниже приведены ограничения и сведения о проблемах, которые могут возникнуть при разработке расширений в Xamarin. Mac.

- В данный момент поддержка отладки в Visual Studio для Mac отсутствует. Все действия по отладке должны выполняться через **нслог** и **консоль**. Дополнительные сведения см. в разделе советы ниже.
- Расширения должны содержаться в ведущем приложении, которое выполняется один раз с регистрацией в системе. Затем их необходимо включить в разделе " **расширение** " **системных настроек**. 
- Некоторые сбои расширения могут дестабилизировать ведущее приложение и привести к некоторому поведению. В частности, в разделе " **Поиск** " и " **сегодня** " **центра уведомлений** может стать "Застревание" и не реагировать на запросы. Это также появилось в проектах расширений в Xcode и в настоящее время не связано с Xamarin. Mac. Часто это можно увидеть в системном журнале (с помощью **консоли**. Дополнительные сведения см. в разделе Советы) Печать повторяющихся сообщений об ошибках. Чтобы устранить эту проблему, отобразится перезагрузка macOS.

<a name="Tips" />

## <a name="tips"></a>Советы

При работе с расширениями в Xamarin. Mac могут быть полезны следующие советы.

- Так как Xamarin. Mac в настоящее время не поддерживает отладку расширений, процесс отладки в первую очередь зависит от выполнения и `printf` инструкций LIKE. Однако расширения выполняются в изолированном процессе, поэтому `Console.WriteLine` не будут действовать так же, как и в других приложениях Xamarin. Mac. Вызов [`NSLog` напрямую](https://gist.github.com/chamons/e2e409013a449cfbe1f2fbe5547f6554) выводит сообщения отладки в системный журнал.
- Любые неперехваченные исключения призавершат процесс расширения, предоставляя только небольшой объем полезной информации в **системном журнале**. Создание оболочки с проблемным кодом в блоке `try/catch` (Exception), который `NSLog` до повторного создания, может оказаться полезным.
- Доступ к **системному журналу** можно получить из **консольного** приложения в разделе **приложения**  > **Служебные программы**:

    [![](extensions-images/extension02.png "The system log")](extensions-images/extension02.png#lightbox)
- Как отмечалось выше, запуск приложения расширения приведет к его регистрации в системе. Удаление пакета приложений с отменой регистрации. 
- Если зарегистрированы "неограниченные" версии расширений приложения, выполните следующую команду, чтобы их можно было удалить: `plugin kit -mv`

<a name="Walkthrough-and-Sample-App" />

## <a name="walkthrough-and-sample-app"></a>Пошаговое руководство и пример приложения

Так как разработчик будет создавать расширения Xamarin. Mac и работать с ними так же, как расширения Xamarin. iOS, ознакомьтесь с нашим введением в документацию по [расширениям](~/ios/platform/extensions.md) для получения дополнительных сведений.

Пример проекта Xamarin. Mac, содержащий небольшие рабочие примеры для каждого типа расширения, можно найти [здесь](https://docs.microsoft.com/samples/xamarin/mac-samples/extensionsamples).

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье мы кратко рассмотрю работу с расширениями в приложении Xamarin. Mac версии 2,10 (и более поздних).

## <a name="related-links"></a>Связанные ссылки

- [Привет, Mac](~/mac/get-started/hello-mac.md)
- [екстенсионсамплес](https://docs.microsoft.com/samples/xamarin/mac-samples/extensionsamples)
- [Рекомендации по созданию пользовательских интерфейсов в macOS](https://developer.apple.com/design/human-interface-guidelines/macos/overview/themes/)
