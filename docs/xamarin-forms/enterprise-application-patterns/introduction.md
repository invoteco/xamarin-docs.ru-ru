---
title: Введение в разработку корпоративных приложений
description: В этой главе приводятся общие сведения о разработке корпоративных приложений и представлено мобильное приложение eShopOnContainers.
ms.prod: xamarin
ms.assetid: cbce0659-fa03-447a-86ec-140438143230
ms.technology: xamarin-forms
author: davidbritch
ms.author: dabritch
ms.date: 08/07/2017
ms.openlocfilehash: 9bde1140f6590daa4b1d40a8b56edec314bfc66d
ms.sourcegitcommit: 9bfedf07940dad7270db86767eb2cc4007f2a59f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2019
ms.locfileid: "70760222"
---
# <a name="introduction-to-enterprise-app-development"></a>Введение в разработку корпоративных приложений

Независимо от платформы разработчики корпоративных приложений сталкиваются с несколькими трудностями:

- Требования к приложениям, которые могут меняться со временем.
- Новые бизнес-возможности и проблемы.
- Текущие отзывы во время разработки, которые могут значительно повлиять на область и требования приложения.

Учитывая это, важно создавать приложения, которые можно легко изменять или расширять со временем. Проектирование для такой адаптируемости может быть затруднительным, так как требуется архитектура, позволяющая независимо разрабатывать и тестировать отдельные части приложения, не затрагивая остальную часть приложения.

Многие корпоративные приложения достаточно сложны, чтобы потребовать более одного разработчика. Решение о проектировании приложения может быть сложной задачей, чтобы несколько разработчиков могли эффективно работать с различными частями приложения, одновременно обеспечивая единообразие при интеграции этих элементов в приложение.

Традиционный подход к проектированию и построению приложения заключается в том, что называется *монолитным* приложением, где компоненты тесно связаны без четкого разделения между ними. Как правило, этот монолитный подход ведет к приложениям, которые сложно и неэффективно обслуживать, поскольку может быть трудно устранять ошибки, не нарушая работу других компонентов приложения, а также добавлять новые функции или заменять существующие.

Эффективное решение этих задач состоит в том, чтобы секционировать приложение на отдельные слабо связанные компоненты, которые можно легко интегрировать в приложение. Такой подход предлагает несколько преимуществ.

- Это позволяет разрабатывать, тестировать, расширять и поддерживать отдельные функциональные возможности для разных пользователей или групп.
- Он способствует повторному разделению возможностей и четкого разделения проблем между горизонтальными возможностями приложения, такими как проверка подлинности и доступ к данным, а также вертикальные возможности, такие как характерные для приложений бизнес-функции. Это позволяет упростить управление зависимостями и взаимодействиями между компонентами приложения.
- Он помогает поддерживать разделение ролей, позволяя различным сотрудникам или командам сосредоточиться на определенной задаче или части функциональности в соответствии с их опытом. В частности, он обеспечивает четкое разделение между пользовательским интерфейсом и бизнес-логикой приложения.

Однако существует множество проблем, которые необходимо устранить при секционировании приложения в отдельные слабо связанные компоненты. Сюда входит следующее.

- Решение о том, как обеспечить четкое разделение проблем между элементами управления пользовательского интерфейса и их логикой. Одним из наиболее важных решений при создании корпоративного приложения Xamarin. Forms является необходимость размещения бизнес-логики в файлах кода программной части или создание четкого разделения проблем между элементами управления пользовательского интерфейса и их логикой, что позволяет сделать приложение более поддерживается поддержка и тестирование. Дополнительные сведения см. в разделе [Model-View-ViewModel](~/xamarin-forms/enterprise-application-patterns/mvvm.md).
- Определение необходимости использования контейнера внедрения зависимостей. Контейнеры внедрения зависимостей уменьшают зависимость между объектами, предоставляя средство для создания экземпляров классов с их зависимостями и управления жизненным циклом в зависимости от конфигурации контейнера. Дополнительные сведения см. в разделе [внедрение зависимостей](~/xamarin-forms/enterprise-application-patterns/dependency-injection.md).
- Выбор между платформой и слабо связанное взаимодействие на основе сообщений между компонентами, которые неудобно связывать по ссылкам объектов и типов. Дополнительные сведения см. в разделе Введение в [Обмен данными между слабо связанными компонентами](~/xamarin-forms/enterprise-application-patterns/communicating-between-loosely-coupled-components.md).
- Решение о переходе между страницами, в том числе о том, как вызывать навигацию и где должна размещаться логика навигации. Дополнительные сведения см. в разделе [Переходы](~/xamarin-forms/enterprise-application-patterns/navigation.md).
- Определение способа проверки правильности вводимых пользователем данных. Решение должно включать проверку вводимых пользователем данных и уведомлять пользователя об ошибках проверки. Дополнительные сведения см. в разделе [Проверка](~/xamarin-forms/enterprise-application-patterns/validation.md).
- Выбор способа выполнения проверки подлинности и защита ресурсов с помощью авторизации. Дополнительные сведения см. в разделе [Проверка подлинности и авторизация](~/xamarin-forms/enterprise-application-patterns/authentication-and-authorization.md).
- Определение способа доступа к удаленным данным из веб-служб, включая способы надежного извлечения данных и кэширования данных. Дополнительные сведения см. в разделе [доступ к удаленным данным](~/xamarin-forms/enterprise-application-patterns/accessing-remote-data.md).
- Выбор способа тестирования приложения. Дополнительные сведения см. в разделе [модульное тестирование](~/xamarin-forms/enterprise-application-patterns/unit-testing.md).

В этом руководстве содержатся рекомендации по этим вопросам и рассматриваются основные шаблоны и архитектура для создания кросс-платформенного корпоративного приложения с помощью Xamarin. Forms. Руководство нацелено на создание адаптируемого, сопровождаемого и тестируемого кода с помощью различных сценариев разработки приложений Xamarin. Forms, а также за счет разделения проблем представления, логики представления и сущностей за счет поддержки Шаблон Model-View-ViewModel (MVVM).

## <a name="sample-application"></a>Пример приложения

Это руководство содержит пример приложения eShopOnContainers, который является Интернет-магазином, который включает следующие функциональные возможности:

- Проверка подлинности и авторизация в серверной службе.
- Просмотр каталога футболок, кофе кружки и других маркетинговых товаров.
- Фильтрация каталога.
- Упорядочивание элементов из каталога.
- Просмотр истории заказов пользователя.
- Настройка параметров.

### <a name="sample-application-architecture"></a>Пример архитектуры приложения

На рис. 1-1 представлен общий обзор архитектуры примера приложения.

![](introduction-images/architecture.png "eShopOnContainers high-level architecture")

**Рис. 1-1**. Архитектура высокого уровня eShopOnContainers

Пример приложения поставляется с тремя клиентскими приложениями:

- Приложение MVC, разработанное с помощью ASP.NET Core.
- Одностраничное приложение (SPA), разработанное с помощью углов 2 и typescript. Такой подход к веб-приложениям позволяет избежать выполнения циклического обращения к серверу при каждой операции.
- Мобильное приложение, разработанное с помощью Xamarin. Forms, которое поддерживает iOS, Android и универсальная платформа Windows (UWP).

Сведения о веб-приложениях см. в разделе [проектирование и разработка современных веб-приложений с помощью ASP.NET Core и Microsoft Azure](https://aka.ms/WebAppEbook).

Пример приложения включает следующие серверные службы:

- Микрослужба удостоверений, использующая ASP.NET Core Identity и IdentityServer.
- Микрослужба каталога, которая представляет собой управляемую данными службу создания, чтения, обновления и удаления (CRUD), которая использует SQL Serverную базу данных с использованием ядра EntityFramework Core.
- Микрослужба заказа, которая является службой на основе домена и использует шаблоны проектирования на основе домена.
- Микрослужба корзины, которая представляет собой управляемую данными службу CRUD, которая использует кэш Redis.

Эти серверные службы реализуются как микрослужбы с помощью ASP.NET Core MVC и развертываются как уникальные контейнеры в пределах одного узла DOCKER. В совокупности эти серверные службы называются эталонным приложением eShopOnContainers. Клиентские приложения взаимодействуют с серверными службами через веб-интерфейс RESTFUL. Дополнительные сведения о микрослужбах и DOCKER см. в разделе [контейнерные микрослужбы](~/xamarin-forms/enterprise-application-patterns/containerized-microservices.md).

Сведения о реализации серверных служб см. в разделе [микрослужбы .NET — архитектура для контейнерных приложений .NET](https://aka.ms/microservicesebook).

### <a name="mobile-app"></a>Мобильное приложение

В этом руководством рассматривается создание кросс-платформенных корпоративных приложений с помощью Xamarin. Forms и использование мобильного приложения eShopOnContainers в качестве примера. На рис. 1-2 показаны страницы из мобильного приложения eShopOnContainers, которые предоставляют функциональные возможности, описанные выше.

[![](introduction-images/screenshots.png "The eShopOnContainers mobile app")](introduction-images/screenshots-large.png#lightbox "The eShopOnContainers mobile app")

**Рис. 1-2**. мобильное приложение eShopOnContainers

Мобильное приложение использует серверные службы, предоставляемые эталонным приложением eShopOnContainers. Однако его можно настроить для использования данных из служб макетирования для тех, кто хочет избежать развертывания серверных служб.

Мобильное приложение eShopOnContainers выполняет следующие функции Xamarin. Forms:

- XAML
- Элементы управления
- Привязки
- Переходник
- Стили
- Анимации
- Команды
- поведения
- триггеры
- Произведенный эффект
- Пользовательские отрисовщики
- MessagingCenter
- Пользовательские элементы управления

Дополнительные сведения об этих функциях см. в [документации по Xamarin. Forms](~/xamarin-forms/index.yml)и о [создании мобильных приложений с помощью Xamarin. Forms](https://aka.ms/xamebook).

Кроме того, модульные тесты предоставляются для некоторых классов в мобильном приложении eShopOnContainers.

#### <a name="mobile-app-solution"></a>Решение для мобильных приложений

Решение eShopOnContainers Mobile App организует исходный код и другие ресурсы в проекты. Все проекты используют папки для организации исходного кода и других ресурсов в категории. В следующей таблице перечислены проекты, составляющие мобильное приложение eShopOnContainers.

|Проект|Описание|
|--- |--- |
|eShopOnContainers. Core|Этот проект является проектом переносимой библиотеки классов (PCL), который содержит общий код и общий пользовательский интерфейс.|
|eShopOnContainers. Droid|Этот проект содержит код, зависящий от Android, и является точкой входа для приложения Android.|
|eShopOnContainers. iOS|Этот проект содержит код, относящийся к iOS, и является точкой входа для приложения iOS.|
|eShopOnContainers. UWP|Этот проект содержит код, зависящий от универсальная платформа Windows (UWP), и является точкой входа для приложения Windows.|
|eShopOnContainers. сообщение TestRunner. Droid|Этот проект является средством запуска тестов Android для проекта eShopOnContainers. UnitTests.|
|eShopOnContainers. сообщение TestRunner. iOS|Этот проект является средством выполнения тестов iOS для проекта eShopOnContainers. UnitTests.|
|eShopOnContainers. сообщение TestRunner. Windows|Этот проект является универсальная платформа Windows средством запуска тестов для проекта eShopOnContainers. UnitTests.|
|eShopOnContainers. UnitTests|Этот проект содержит модульные тесты для проекта eShopOnContainers. Core.|

Классы из мобильного приложения eShopOnContainers можно использовать повторно в любом приложении Xamarin. Forms с небольшим числом изменений или без них.

##### <a name="eshoponcontainerscore-project"></a>Проект eShopOnContainers. Core

Проект eShopOnContainers. Core PCL содержит следующие папки:

|Папка|Описание|
|--- |--- |
|Анимации|Содержит классы, позволяющие использовать анимацию в XAML.|
|поведения|Содержит поведение, доступное для классов представлений.|
|Элементы управления|Содержит пользовательские элементы управления, используемые приложением.|
|Переходник|Содержит преобразователи значений, которые применяют пользовательскую логику к привязке.|
|Произведенный эффект|Содержит класс `EntryLineColorEffect`, который используется для изменения цвета границы конкретных элементов управления `Entry`.|
|Исключения|Содержит пользовательский `ServiceAuthenticationException`.|
|Расширения|Содержит методы расширения для классов `VisualElement` и `IEnumerable`.|
|Вспомогательные функции|Содержит вспомогательные классы для приложения.|
|Модели|Содержит классы модели для приложения.|
|Свойства|Содержит `AssemblyInfo.cs` файл метаданных сборки .NET.|
|Службы|Содержит интерфейсы и классы, реализующие службы, предоставляемые приложению.|
|триггеры|Содержит триггер `BeginAnimation`, который используется для вызова анимации в XAML.|
|Проверки|Содержит классы, участвующие в проверке входных данных.|
|Модели представлений|Содержит логику приложения, доступную для страниц.|
|Представления|Содержит страницы для приложения.|

##### <a name="platform-projects"></a>Проекты платформы

Проекты платформы содержат реализации эффектов, реализации пользовательских модулей подготовки отчетов и другие ресурсы, относящиеся к конкретной платформе.

## <a name="summary"></a>Сводка

Средства разработки и платформы для кросс-платформенных мобильных приложений Xamarin предоставляют комплексное решение для мобильных клиентских приложений B2E, B2B и B2C, предоставляя возможность совместного использования кода на всех целевых платформах (iOS, Android и Windows) и помогая снизить Совокупная стоимость владения. Приложения могут совместно использовать свой пользовательский интерфейс и код логики приложения, сохраняя собственный внешний вид и поведение платформы.

Разработчики корпоративных приложений сталкиваются с несколькими проблемами, которые могут изменить архитектуру приложения во время разработки. Поэтому важно создать приложение, чтобы его можно было изменять или расширять с течением времени. Разработка для такой адаптируемости может быть сложной, но обычно подразумевает разделение приложения на отдельные слабо связанные компоненты, которые можно легко интегрировать в приложение.

## <a name="related-links"></a>Связанные ссылки

- [Скачать электронную книгу (2 МБ в формате PDF)](https://aka.ms/xamarinpatternsebook)
- [eShopOnContainers (GitHub) (пример)](https://github.com/dotnet-architecture/eShopOnContainers)
