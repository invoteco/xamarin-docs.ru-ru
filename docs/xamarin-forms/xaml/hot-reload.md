---
title: Горячая перезагрузка XAML для Xamarin. Forms
description: Мгновенно загружайте изменения в файл XAML в работающем приложении, поэтому вам не нужно создавать проект Xamarin. Forms после каждого изменения XAML.
ms.prod: xamarin
ms.assetid: E220F054-32EE-424C-A7E5-6156BE271519
ms.technology: xamarin-forms
author: maddyleger1
ms.author: maleger
ms.date: 08/13/2019
ms.openlocfilehash: 0f3ff5357d3fb4c60a910dda6befa8c699c6fc07
ms.sourcegitcommit: 5f7749d6ba1db79aa0fbf4ee7c90f2dcd4de812b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2019
ms.locfileid: "74884128"
---
# <a name="xaml-hot-reload-for-xamarinforms-preview"></a>Горячая перезагрузка XAML для Xamarin. Forms (Предварительная версия)

Горячая перезагрузка XAML подключается к существующему рабочему процессу, чтобы повысить производительность и сэкономить время. Без горячей перезагрузки XAML необходимо создавать и развертывать приложения каждый раз, когда нужно увидеть изменение XAML. При использовании горячей перезагрузки при сохранении файла XAML изменения в работающем приложении отражаются в реальном времени. Кроме того, будет поддерживаться состояние навигации и данные, что позволит быстро выполнять итерацию по пользовательскому интерфейсу без потери места в приложении. Таким образом, при горячей перезагрузке XAML вы тратите меньше времени на повторное создание и развертывание приложений для проверки изменений пользовательского интерфейса.

> [!NOTE]
> Если вы создаете приложение WPF или UWP, см. статью [Горячая перезагрузка XAML для UWP и WPF](/visualstudio/debugger/xaml-hot-reload).

## <a name="system-requirements"></a>Требования к системе

| IDE/Framework | Требуется версия |
|------|------------------|
|Visual Studio 2019 | 16,4 или выше
Visual Studio 2019 для Mac | 8,4 или выше
Xamarin.Forms | 4,1 или выше

## <a name="use-xaml-hot-reload-for-xamarinforms"></a>Использовать горячую перезагрузку XAML для Xamarin. Forms

Для использования горячей перезагрузки XAML не требуется дополнительная установка или Настройка. Она встроена в Visual Studio и может быть включена в параметрах интегрированной среды разработки. После включения можно приступить к использованию горячей перезагрузки XAML путем отладки приложения на эмуляторе, симуляторе или физическом устройстве. В настоящее время Горячая перезагрузка XAML работает только при отладке на iOS или Android.

В Windows можно включить горячую перезагрузку XAML, установив флажок **Включить горячую перезагрузку Xamarin** в **меню сервис** > **Параметры** > **Xamarin** > **горячую перезагрузку**.

На компьютере Mac можно включить горячую перезагрузку XAML, установив флажок **Включить горячую перезагрузку Xamarin** в **Visual Studio** > **предпочтения** > **проекты** > " **горячая" перезагрузка Xamarin**.

## <a name="resilient-reloading"></a>Устойчивая перезагрузка

Если вы вносите изменения в то, что невозможно перезагрузить горячую перезагрузку XAML, отобразится сообщение об ошибке с помощью IntelliSense. Эти изменения, известные как грубые изменения, содержат ошибочный ввод кода XAML или связывание элемента управления с несуществующим обработчиком событий. Даже при грубом изменении можно продолжить перезагрузку без перезапуска приложения — внести еще одно изменение в другое место в XAML-файле и нажать кнопку Сохранить. Грубое изменение не будет перезагружено, но другие изменения будут по прежнему применены.

## <a name="known-limitations"></a>Известные ограничения

- Нельзя добавлять, удалять или переименовывать файлы или пакеты NuGet во время сеанса горячей загрузки XAML. При добавлении или удалении файла или пакета NuGet перестройте и повторно разверните приложение, чтобы продолжить использовать горячую перезагрузку XAML.
- Задайте для компоновщика значение **не привязку** для оптимальной работы. Параметр **связать только пакет SDK** работает в большинстве случаев, но в некоторых случаях может завершиться ошибкой.
- Для отладки на физическом iPhone требуется, чтобы интерпретатор использовал горячую перезагрузку XAML. Для этого откройте параметры проекта, перейдите на вкладку сборка iOS и убедитесь, что параметр **включить интерпретатор Mono** включен. Может потребоваться изменить параметр **платформы** в верхней части страницы свойств на **iPhone**.
- Все ссылки, созданные путем назначения элемента управления другому полю или свойству с помощью его `x:Name` значения, не будут перезагружены.
- Обновление визуальной иерархии приложения оболочки в **аппшелл. XAML** может вызвать проблемы, связанные с сохранением состояния приложения. Перестройте приложение, чтобы продолжить перезагрузку.
- Горячая перезагрузка XAML не может перезагрузить C# код, включая обработчики событий, пользовательские элементы управления, код программной части страницы и дополнительные классы.

## <a name="migrate-from-the-private-preview"></a>Миграция из закрытой предварительной версии

Если вы входили в частную предварительную версию, расширение "горячая" Загрузка XAML будет автоматически обновлено при обновлении Visual Studio. Если вы решили не обновлять Visual Studio, можно продолжить использовать текущую версию горячей перезагрузки XAML, но вы не получите дальнейшие обновления через канал расширения закрытой предварительной версии.

## <a name="troubleshooting"></a>Диагностика

- Если не удается инициализировать горячую перезагрузку XAML:
  - Обновите версию Xamarin. Forms.
  - Убедитесь, что вы используете последнюю версию интегрированной среды разработки.
  - Задайте для параметров компоновщика Android или iOS значение **не связывать** в параметрах сборки проекта.
- Если при сохранении XAML-файла ничего не происходит, включите в интегрированной среде разработки горячую перезагрузку.
- Если отладка выполняется на физическом iPhone и приложение перестает отвечать, убедитесь, что интерпретатор включен. Чтобы включить его, откройте параметры проекта, перейдите на вкладку "сборка iOS" и установите флажок **включить параметр интерпретатора Mono** .

Чтобы сообщить об ошибке, используйте средство обратной связи в меню **справка** > **Отправить отзыв** > **сообщить о проблеме** в Windows, а в меню **Справка** > **сообщение о проблеме** на компьютере Mac.
